
&НаКлиенте
Процедура ПриОткрытии(Отказ)
	#Если МобильноеПриложениеКлиент  Тогда
		Если НЕ СредстваМультимедиа.ПоддерживаетсяСканированиеШтрихКодов() Тогда
			ВызватьИсключение "Сканирование штрихкодов не поддерживается";
		КонецЕсли;
		ЗакрытьИнтерфейс = Ложь;
	#Иначе
		Возврат;
	#КонецЕсли   
КонецПроцедуры

&НаКлиенте
Процедура ОткрытьИнтерфейсСканирования(Команда)
	// Вставить содержимое обработчика.
	#Если МобильноеПриложениеКлиент  Тогда
		ОбработчикСканирования = Новый ОписаниеОповещения("ОбработкаСканирования", ЭтаФорма);
		ОбработчикЗакрытия = Новый ОписаниеОповещения("ОбработкаЗакрытияИнтерфейса", ЭтаФорма);
		СредстваМультимедиа.ПоказатьСканированиеШтрихКодов("Наведите камеру на штрихкод", ОбработчикСканирования, ОбработчикЗакрытия, ТипШтрихКода.Двухмерный);
	#КонецЕсли
КонецПроцедуры

&НаКлиенте
Процедура ОбработкаСканирования(Штрихкод, Результат, Сообщение, ДополнительныеПараметры) Экспорт
	#Если МобильноеПриложениеКлиент  Тогда
		
		Если Результат Тогда
			ЗакрытьИнтерфейс=1;
		
			Текст = "" + Штрихкод;
			
		Иначе
			Текст = "Ошибка: " + Сообщение;
		КонецЕсли;
		Если ЗакрытьИнтерфейс Тогда
			СредстваМультимедиа.ЗакрытьСканированиеШтрихКодов();
		КонецЕсли;
		Сообщить(Текст);
	#КонецЕсли
КонецПроцедуры

&НаКлиенте
Процедура ОбработкаЗакрытияИнтерфейса(ДополнительныеПараметры) Экспорт
	Сообщить("Закрывается интерфейс сканирования");
КонецПроцедуры






